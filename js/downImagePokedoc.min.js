function downImagePokeDoc(e,r){for(var n=[],i="",l=e.children[0].offsetTop,t=!1,c=0;c<e.children.length;c++){var o,a=window.getComputedStyle?getComputedStyle(e.children[c],null):e.children[c].currentStyle;l===e.children[c].offsetTop||t||(l=c,t=!0),i!==a.backgroundImage?(i=a.backgroundImage,o={i:a.backgroundImage,children:[{i:c,x:a.backgroundPositionX,y:a.backgroundPositionY,s:a.backgroundSize,c:e.children[c].children[0].classList.value}]},n.push(o)):n[n.length-1].children.push({i:c,x:a.backgroundPositionX,y:a.backgroundPositionY,s:a.backgroundSize,c:e.children[c].children[0].classList.value})}for(var d=[],c=0;c<n.length;c++)d.push(imgLoad(n[c],c,e.children.length,e.offsetWidth,l));Promise.all(d).then(function(e){var n=document.getElementById("tCanvas");r(n)})}function imgLoad(m,i,l,e,p){return new Promise(function(d,e){var n=document.getElementById("tCanvas"),h=n.getContext("2d"),g=84,u=111;p<12&&(p=12);var r=Math.floor(l/p)+1;n.width=g*p+8*(p-1)+2,n.height=u*r+8*(r-1)+2;let s=new Image;s.src="image/re_pokemon"+(i+1)+".png",s.i=i,s.onload=function(){for(var e=s.width,n=s.height,r=0;r<m.children.length;r++){var i=m.children[r].s.split(" "),l=e/Number(i[0].replace("px","")),t=n/Number(i[1].replace("px","")),c=Number(m.children[r].x.replace("-","").replace("px","")),o=Number(m.children[r].y.replace("-","").replace("px","")),a=m.children[r].i%p,i=Math.floor(m.children[r].i/p);h.drawImage(s,l*c,t*o,g*l,u*t,a*g+8*a+1,i*u+8*i+1,g,u),h.strokeRect(a*g+8*a+1,i*u+8*i+1,g,u),"selected"==m.children[r].c&&(h.fillStyle="rgb(0,0,0,0.7)",h.fillRect(a*g+8*a+1,i*u+8*i+1,g,u))}d(m)}})}
